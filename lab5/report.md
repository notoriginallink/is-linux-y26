# Lab5

### 1. Создание пользователя и выделение ему квоты на использование процессора
Создадим пользователя **user-04** и выделим ему квоту в 30% CPU
```
adduser user-04
```
Далее создадим в псевдофайловой системе `sys/fs/cgroup` директорию=группу в которой ограничим использование ресурсов процессора
```
mkdir /sys/fs/cgroup/user-04				# Создание контрольной группы
echo "30000 100000" > /sys/fs/cgroup/user-04/cpu.max	# Разрешаем использовать только 30мс за период 100мс
```
Теперь процессы, PID которых будет помещен в файл `sys/fs/cgroup/user-04/cgroup.procs` будут ограничены в 30% использования CPU

---

### 2. Ограничение памяти для процесса
Создадим группу **mem-test**
```
mkdir /sys/fs/cgroup/l
echo "566231040" | tee /sys/fs/cgroup/mem-test/memory.max	# (04*10 + 500) = 540МБ = 566_231_040Б
```
Далее создадим программу, который будет забивать память
``` python

a = []
while True:
	a.append(' ' * 10**7)

```
Запустим ее и переведем процесс в группу **mem-test**
``` bash
python3 part2.py &
echo $! | tee /sys/fs/cgroup/mem-test/cgroup.procs
```
Процесс завершится через пару секунд

---

